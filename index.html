<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ecobeauty - Cosmética Natural</title>
    <link rel="manifest" href="manifest.json">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
    /* Paleta de colores y estilos*/
        :root {
            --primary-color: #556B3A;
            --secondary-color: #556B3A;
            --accent-color: #021d04;
        }

        body {
            font-family: 'Georgia', serif;
            color: var(--accent-color);
        }

        .navbar {
            background-color: white !important;
            border-bottom: 1px solid var(--secondary-color);
        }

        .hero {
            background-color: var(--secondary-color);
            height: 70vh;
            color: var(--accent-color);
            padding: 5rem 0;
            text-align: center;
        }

        .btn-eco-alt {
            background-color: var(--primary-color);
            color: white;
            border: 2px solid var(--primary-color);
            padding: 0.75rem 2rem;
            font-weight: bold;
            transition: all 0.3s;
        }

        .btn-eco-alt:hover {
            background-color: white;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        .product-card {
            border: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            transition: box-shadow 0.3s;
        }

        .product-card:hover {
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            color: var(--primary-color);
            font-weight: 300;
        }

        .footer {
            background-color: var(--accent-color);
            color: white;
        }

        .footer a {
            color: white;
            text-decoration: none;
        }

        .footer a:hover {
            color: var(--primary-color);
        }
    </style>
</head>
<body> 
    <!-- Barra de navegación principal -->
    <nav class="navbar navbar-expand-lg sticky-top">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#">
                <i class="fas fa-seedling text-success"></i> 
                <span style="color: var(--accent-color);">Ecobeauty</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAlt">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Enlaces del menú -->
            <div class="collapse navbar-collapse" id="navbarNavAlt">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#inicio" style="color: var(--accent-color);">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link" href="#productos" style="color: var(--accent-color);">Tienda</a></li>
                    <li class="nav-item"><a class="nav-link" href="#mision" style="color: var(--accent-color);">Nuestra Misión</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contacto" style="color: var(--accent-color);">Contacto</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="hero d-flex align-items-center" id="inicio">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-7 text-center text-md-start">
                    <h1 class="display-4 fw-bold mb-3">La Naturaleza en tu Piel.</h1>
                    <p class="lead mb-4">Fórmulas botánicas, éticas y efectivas para un bienestar integral.</p>
                    <a href="#productos" class="btn btn-eco-alt btn-lg">Descubre la Colección</a>
                </div>
                <div class="col-md-5 d-none d-md-block">
                    <img src="Productos.jpg" alt="Productos Naturales" class="img-fluid rounded-circle shadow-lg">
                </div>
            </div>
        </div>
    </header>

  <div class="container py-5">
    <div class="text-center mb-4">
      <h1 class="display-5 section-title mb-3">Gestión de Productos</h1>
      <button type="button" class="btn btn-eco-alt btn-lg" data-bs-toggle="modal" data-bs-target="#proyectoModal">
        Registrar Nuevo Producto
      </button>
      <button id="clearAll" class="btn btn-outline-danger btn-lg ms-2">
        Limpiar todo (LocalStorage)
      </button>
    </div>
    <div id="projectsContainer" class="row mt-4"></div>
  </div>

    <!-- Sección de productos destacados -->
    <section class="py-5" id="productos">
        <div class="container">
            <h2 class="text-center mb-5 section-title">Esenciales de la Temporada</h2>
            <div class="row g-4">
                <div class="col-lg-4 col-md-6">
                    <div class="card product-card h-100 text-center">
                        <img src="Serum.jpg" class="card-img-top" alt="Sérum Facial">
                        <div class="card-body">
                            <h5 class="card-title fw-bold">Sérum Revitalizante C</h5>
                            <p class="card-text text-muted">Brillo y firmeza con Vitamina C natural.</p>
                            <a href="detalles_serum.html" class="btn btn-sm btn-eco-alt d-block mt-3">Detalles</a>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-md-6">
                    <div class="card product-card h-100 text-center">
                        <img src="Aceite.jpg" class="card-img-top" alt="Aceite Natural">
                        <div class="card-body">
                            <h5 class="card-title fw-bold">Aceite Natural</h5>
                            <p class="card-text text-muted">Desintoxica y equilibra tu piel.</p>
                            <a href="detalles_aceite_natural.html" class="btn btn-sm btn-eco-alt d-block mt-3">Detalles</a>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-md-6">
                    <div class="card product-card h-100 text-center">
                        <img src="Balsamo.jpg" class="card-img-top" alt="Bálsamo Labial">
                        <div class="card-body">
                            <h5 class="card-title fw-bold">Bálsamo Labial de Karité</h5>
                            <p class="card-text text-muted">Hidratación extrema para labios secos.</p>
                            <a href="detalles_balsamo_labial.html" class="btn btn-sm btn-eco-alt d-block mt-3">Detalles</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal de registro de proyectos -->
    <div class="modal fade" id="proyectoModal" tabindex="-1" aria-labelledby="proyectoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="proyectoModalLabel">Registro de Nuevo Proyecto</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body p-4">
          <!-- Formulario de registro -->
          <form id="proyectoForm">
            <div class="row g-3">
              <div class="col-md-6">
                <label for="nombreProyecto" class="form-label">Cliente</label>
                <input type="text" class="form-control" id="nombreProyecto" placeholder="Ej: Nombre" required />
              </div>
              <div class="col-md-6">
                <label for="clienteProyecto" class="form-label">Producto</label>
                <input type="text" class="form-control" id="clienteProyecto" placeholder="Nombre del producto" required />
              </div>
              <div class="col-md-6">
                <label for="presupuesto" class="form-label">Presupuesto</label>
                <div class="input-group">
                  <span class="input-group-text">$</span>
                  <input type="number" class="form-control" id="presupuesto" placeholder="0.00" step="0.01" required />
                </div>
              </div>
              <div class="col-md-6">
                <label for="estadoProyecto" class="form-label">Stock</label>
                <select class="form-select" id="estadoProyecto" required>
                  <option value="">Seleccionar estado</option>
                  <option value="planificacion">Disponible</option>
                  <option value="en-progreso">Pocos en almacen</option>
                  <option value="en-pausa">Agotado</option>
                </select>
              </div>
              <div class="col-12">
                <label for="responsable" class="form-label">Responsable</label>
                <input type="text" class="form-control" id="responsable" placeholder="Nombre del líder o responsable" required />
              </div>
              <div class="col-12">
                <label for="descripcion" class="form-label">Descripción</label>
                <textarea class="form-control" id="descripcion" rows="3" placeholder="Describe brevemente el proyecto..."></textarea>
              </div>
              <div class="col-12">
                <label for="imagenes" class="form-label">Imágenes del Proyecto</label>
                <input type="file" id="imagenes" class="form-control" accept="image/*" multiple />
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="submit" form="proyectoForm" class="btn btn-primary">Guardar Proyecto</button>
        </div>
      </div>
    </div>
  </div>

    <footer class="footer py-5">
        <div class="container text-center">
            <p class="mb-0">&copy; 2025 Ecobeauty. Todos los derechos reservados.</p>
        </div>
    </footer>
<!-- Pie de página con enlaces y redes sociales -->
    <footer class="footer py-5">
        <div class="container text-center text-md-start">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <h5 class="fw-bold"><i class="fas fa-seedling me-2"></i> Ecobeauty</h5>
                    <p class="text-white-50">Belleza que respeta la vida.</p>
                </div>
                <div class="col-md-4 mb-3">
                    <h5 class="fw-bold">Explora</h5>
                    <ul class="list-unstyled">
                        <li><a href="#productos">Tienda</a></li>
                        <li><a href="#mision">Valores</a></li>
                        <li><a href="#contacto">Servicio al Cliente</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-3">
                    <h5 class="fw-bold">Síguenos</h5>
                    <a href="#" class="text-white me-3"><i class="fab fa-facebook fa-lg"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-instagram fa-lg"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-pinterest fa-lg"></i></a>
                </div>
            </div>
            <div class="text-center pt-4 border-top border-white border-opacity-25">
                <small>&copy; 2025 Ecobeauty. Todos los derechos reservados.</small>
            </div>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // IDs del HTML
        const proyectoForm = document.getElementById('proyectoForm');
        const projectsContainer = document.getElementById('projectsContainer');
        const clearAllButton = document.getElementById('clearAll');
        // Instancia del Modal de Bootstrap
        const proyectoModal = new bootstrap.Modal(document.getElementById('proyectoModal'));

        // --- Funciones de Utilidad ---

        function getProjects() {
            const projects = localStorage.getItem('ecobeautyProjects');
            return projects ? JSON.parse(projects) : [];
        }

        function saveProjects(projects) {
            localStorage.setItem('ecobeautyProjects', JSON.stringify(projects));
        }

        // 3. Renderiza (Dibuja) los proyectos en el contenedor
        function renderProjects() {
            const projects = getProjects();
            projectsContainer.innerHTML = ''; // Limpiar contenedor
            
            if (projects.length === 0) {
                // Bloque eliminado: El contenedor queda vacío cuando no hay proyectos.
                return;
            }

            projects.forEach(project => {
                const card = document.createElement('div');
                card.classList.add('col-lg-4', 'col-md-6', 'mb-4');
                
                let badgeClass;
                switch (project.estado) {
                    case 'planificacion':
                        badgeClass = 'bg-success'; // Disponible
                        break;
                    case 'en-progreso':
                        badgeClass = 'bg-warning text-dark'; // Pocos en almacén
                        break;
                    case 'en-pausa':
                        badgeClass = 'bg-danger'; // Agotado
                        break;
                    default:
                        badgeClass = 'bg-secondary';
                }
                
                // Determina la imagen a mostrar, usando una imagen por defecto si no hay
                const imageSrc = project.imagenBase64 || 'https://via.placeholder.com/400x300?text=Sin+Imagen';

                card.innerHTML = `
                    <div class="card product-card h-100 text-center">
                        ${project.imagenBase64 ? `<img src="${imageSrc}" class="card-img-top" style="height: 200px; object-fit: cover;" alt="Imagen del Producto">` : '<img src="' + imageSrc + '" class="card-img-top" style="height: 200px; object-fit: cover;" alt="Placeholder">'}
                        
                        <div class="card-body">
                            <span class="badge ${badgeClass} float-end">${project.estadoDisplay}</span>
                            <h5 class="card-title fw-bold" style="color: var(--primary-color);">${project.producto}</h5>
                            <h6 class="card-subtitle mb-2 text-muted">${project.cliente}</h6>
                            <p class="card-text small text-start">${project.descripcion || 'Sin descripción.'}</p>
                            <ul class="list-unstyled mt-3 small text-start">
                                <li><strong>Responsable:</strong> ${project.responsable}</li>
                                <li><strong>Presupuesto:</strong> $${parseFloat(project.presupuesto).toFixed(2)}</li>
                            </ul>
                            <button class="btn btn-sm btn-outline-danger mt-2 delete-btn d-block w-100" data-id="${project.id}">
                                <i class="fas fa-trash-alt me-1"></i> Eliminar Producto
                            </button>
                        </div>
                    </div>
                `;
                projectsContainer.appendChild(card);
            });
            
            attachDeleteListeners();
        }

        // 4. Adjuntar evento de clic a los botones de eliminar
        function attachDeleteListeners() {
            document.querySelectorAll('.delete-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const projectId = this.getAttribute('data-id');
                    deleteProject(projectId);
                });
            });
        }

        // 5. Función principal para ELIMINAR un proyecto
        function deleteProject(id) {
            if (!confirm('¿Estás seguro de que quieres eliminar este producto?')) return;
            let projects = getProjects();
            projects = projects.filter(project => project.id.toString() !== id);
            
            saveProjects(projects);
            renderProjects();
        }
        
        // Función para construir y guardar el objeto del proyecto
        function saveNewProject(estadoSelect, imagenBase64) {
             const newProject = {
                id: Date.now(), 
                cliente: document.getElementById('nombreProyecto').value,
                producto: document.getElementById('clienteProyecto').value,
                presupuesto: document.getElementById('presupuesto').value,
                estado: estadoSelect.value,
                estadoDisplay: estadoSelect.options[estadoSelect.selectedIndex].text,
                responsable: document.getElementById('responsable').value,
                descripcion: document.getElementById('descripcion').value,
                // Guarda la Data URL de la imagen
                imagenBase64: imagenBase64
            };

            const projects = getProjects();
            projects.push(newProject);
            saveProjects(projects);
            
            renderProjects();
            proyectoModal.hide();
            proyectoForm.reset();
        }


        // --- Manejador de Eventos para el Formulario ---

        proyectoForm.addEventListener('submit', function(e) {
            e.preventDefault(); 
            
            const estadoSelect = document.getElementById('estadoProyecto');
            const fileInput = document.getElementById('imagenes');
            
            // Si se seleccionó al menos un archivo
            if (fileInput.files.length > 0) {
                const reader = new FileReader();
                // Al cargar la imagen...
                reader.onload = function(event) {
                    // event.target.result contiene la imagen como Base64 Data URL
                    const imagenBase64 = event.target.result;
                    saveNewProject(estadoSelect, imagenBase64);
                };
                
                // Lee el primer archivo como una URL de datos Base64
                reader.readAsDataURL(fileInput.files[0]);
            } else {
                // Si no hay archivo, guarda el proyecto sin imagen
                saveNewProject(estadoSelect, null);
            }
        });

        // Evento: Limpiar todo
        clearAllButton.addEventListener('click', function() {
            if (confirm('¿Estás seguro de que quieres eliminar TODOS los productos registrados? Esta acción no se puede deshacer.')) {
                localStorage.removeItem('ecobeautyProjects');
                renderProjects();
                alert('Todos los productos han sido eliminados.');
            }
        });

        // Carga inicial
        renderProjects();
    });
</script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
